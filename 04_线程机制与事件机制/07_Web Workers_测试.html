<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>07_Web Workers_测试</title>
</head>

<body>
  <!--
  H5规范提供了js分线程的实现, 取名为: Web Workers
  相关API
    Worker: 构造函数, 加载分线程执行的js文件
    Worker.prototype.onmessage: 用于接收另一个线程的回调函数
    Worker.prototype.postMessage: 向另一个线程发送消息
  不足
    worker内代码不能操作DOM(更新UI)
    不能跨域加载JS
    不是每个浏览器都支持这个新特性
-->
  <input type="text" placeholder="输入数值" id="number">
  <button id="btn">计算</button>
  <script type="text/javascript">
    // 实现斐波那契数列  f(n) = f(n-1) + f(n-2)
    function fibonacci(n) {
      return n <= 2 ? 1 : fibonacci(n - 1) + fibonacci(n - 2)//递归
    }

    var input = document.getElementById('number')
    document.getElementById('btn').onclick = function () {
      var number = input.value
      var result = fibonacci(number)
      console.log(result);
    }
  </script>
</body>

</html>